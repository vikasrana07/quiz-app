<form [formGroup]="questionForm" (ngSubmit)="onSubmit()">
  <div class="card p-fluid">
    <div class="field grid">
      <label htmlfor="lastName" class="col-12 md:col-2">Category</label>
      <div class="col-12 md:col-10">
        <p-dropdown [options]="categories"
          [ngClass]="{ 'ng-invalid ng-dirty': isSubmitted && formControls.categoryId.errors }" appendTo="body"
          optionLabel="name" optionValue="id" [filter]="true" placeholder="Select Category"
          formControlName="categoryId">
        </p-dropdown>
      </div>
    </div>
    <div class="field grid">
      <label htmlfor="lastName" class="col-12 md:col-2">Question Type</label>
      <div class="col-12 md:col-10">
        <p-dropdown [options]="questionTypes"
          [ngClass]="{ 'ng-invalid ng-dirty': isSubmitted && formControls.questionTypeId.errors }" appendTo="body"
          optionLabel="name" optionValue="id" [filter]="true" placeholder="Select Question Type"
          formControlName="questionTypeId">
        </p-dropdown>
      </div>
    </div>
    <div class="field grid">
      <label htmlfor="question" class="col-12 md:col-2">Question</label>
      <div class="col-12 md:col-10">
        <p-editor [ngClass]="{ 'ng-invalid ng-dirty': isSubmitted && formControls.question.errors }"
          formControlName="question" [style]="{'height':'100px'}"></p-editor>

      </div>
    </div>
    <div class="field grid" formArrayName="options"
      *ngFor="let option of questionForm.get('options').controls; let i=index">
      <label htmlfor="options" class="col-12 md:col-2">Option {{i+1}}</label>
      <div class="col-12 md:col-10">
        <ng-container [formGroupName]="i">
          <input aria-label="Option" placeholder="" pInputText formControlName="name"
            [ngClass]="{ 'ng-invalid ng-dirty': isSubmitted && options.controls[i].get('name')?.errors }">
        </ng-container>
      </div>
    </div>
    <div class="field grid">
      <label htmlfor="lastName" class="col-12 md:col-2">Answer</label>
      <div class="col-12 md:col-10">
        <p-dropdown [options]="answers" [ngClass]="{ 'ng-invalid ng-dirty': isSubmitted && formControls.answer.errors }"
          appendTo="body" optionLabel="name" optionValue="id" [filter]="true" placeholder="Select Answer"
          formControlName="answer">
        </p-dropdown>
      </div>
    </div>
  </div>
  <div class="mt-5"></div>
  <div class="flex justify-content-end">
    <button type="submit" pButton>Save</button>
  </div>
</form>